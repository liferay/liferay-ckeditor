(function(){CKEDITOR.plugins.add("imagespacingbox",{init:function(d){CKEDITOR.on("dialogDefinition",function(c){var e=c.data.definition;"image2"===c.data.dialog.getName()&&(c=e.getContents("info"),c.get("spacingBox")||(e={children:[{children:[{onShow:function(){var a=this.getDialog().getParentEditor().widgets.focused;if(a){var b=a.parts.image.$.style,c="";b&&(c=parseInt(b.marginLeft,10)||parseInt(b.marginRight,10));a.setData("hspace",c)}},commit:function(a){a.setData("hspace",this.getValue());var b=
a.data.hspace?a.data.hspace:0;(a=a.parts.image)&&a.setStyles({"margin-left":b+"px","margin-right":b+"px"})},id:"hspace",label:d.lang.image.hSpace,requiredContent:"img{margin-left,margin-right}",setup:function(a){this.setValue(a.data.hspace)},type:"text",validate:CKEDITOR.dialog.validate.integer(d.lang.image.validateHSpace)}],type:"hbox"},{children:[{onShow:function(){var a=this.getDialog().getParentEditor().widgets.focused;if(a){var b=a.parts.image.$.style,c="";b&&(c=parseInt(b.marginTop,10)||parseInt(b.marginBottom,
10));a.setData("vspace",c)}},commit:function(a){a.setData("vspace",this.getValue());var b=a.data.vspace?a.data.vspace:0;(a=a.parts.image)&&a.setStyles({"margin-bottom":b+"px","margin-top":b+"px"})},id:"vspace",label:d.lang.image.vSpace,requiredContent:"img{margin-top,margin-bottom}",setup:function(a){this.setValue(a.data.vspace)},type:"text",validate:CKEDITOR.dialog.validate.integer(d.lang.image.validateVSpace)}],type:"hbox"}],id:"spacingBox",type:"hbox"},c.add(e)))})}})})();